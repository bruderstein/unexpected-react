<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0">
    <link rel="stylesheet" href="static/normalize.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="static/main.css" type="text/css" media="screen" />
    <link rel="shortcut icon" type="image/vnd.microsoft.icon" href="static/bug-icon-black.ico">
    <title>unexpected-react</title>
</head>
<body class="sidebar-hidden">
    <header>
        <div class="logo-icon"></div>
        <nav>
            <ul>
                <li class="menu-toggle-item">
                    <button class="menu-toggle" onclick="toggleSidebar()"></button>
                </li>
                
                <li class="active"><a href="">unexpected-react</a></li>
                
                
                <li class=""><a href="assertions/ReactElement/queried-for">Assertions</a></li>
                
                
                
            </ul>
        </nav>
        <div class="search" style="visibility: hidden">
            <input id="search" placeholder="Search..." value="">
            <div id="searchDropDown" class="dropDown">
                <ul id="searchResults"></ul>
            </div>
        </div>
    </header>

<div class="main theme-dark" tabindex="-1">
    <div class="content">
        <h1 id="unexpected-react">unexpected-react</h1>
<p>Plugin for <a href="https://unexpected.js.org">unexpected</a> to allow for testing the full virtual DOM, and 
against the shallow renderer (replaces <a href="https://github.com/bruderstein/unexpected-react-shallow">unexpected-react-shallow</a>)</p>
<p>!<img src="https://cloud.githubusercontent.com/assets/91716/11253997/c5d2a9b4-8e3e-11e5-8da5-2df95598865c.png" alt="output_demo"></p>
<p>See the blog post for an introduction: <a href="https://medium.com/@bruderstein/the-missing-piece-to-the-react-testing-puzzle-c51cd30df7a0">https://medium.com/@bruderstein/the-missing-piece-to-the-react-testing-puzzle-c51cd30df7a0</a></p>
<h1 id="usage">Usage</h1>
<div class="code lang-">
  <div>npm&nbsp;install&nbsp;--save-dev&nbsp;unexpected&nbsp;unexpected-react</div>
</div><p>If you want to assert over the whole virtual DOM, then you need to emulate the DOM 
(note this library is not designed for use in the browser - it may be possible, but at the 
very least, you&#39;ll need to disable the react-devtools)</p>
<p>If you don&#39;t need the virtual DOM, and you&#39;re just using the <a href="http://facebook.github.io/react/docs/test-utils.html#shallow-rendering">shallow renderer</a>,
then the order of the requires is not important, and you obviously don&#39;t need the <code>emulateDom.js</code> require.</p>
<div class="code lang-javascript">
  <div><span style="color: #888">//&nbsp;First&nbsp;require&nbsp;your&nbsp;DOM&nbsp;emulation&nbsp;file&nbsp;(see&nbsp;below)</span></div>
  <div>require<span style="color: #999">(</span>&nbsp;<span style="color: #E6DB74">'../testHelpers/emulateDom'</span><span style="color: #999">);</span></div>
  <div>&nbsp;</div>
  <div><span style="color: #F92672">var</span>&nbsp;unexpected&nbsp;<span style="color: #F92672">=</span>&nbsp;require<span style="color: #999">(</span><span style="color: #E6DB74">'unexpected'</span><span style="color: #999">);</span></div>
  <div>&nbsp;</div>
  <div><span style="color: #888">//&nbsp;then&nbsp;require&nbsp;unexpected-react</span></div>
  <div><span style="color: #F92672">var</span>&nbsp;unexpectedReact&nbsp;<span style="color: #F92672">=</span>&nbsp;require<span style="color: #999">(</span><span style="color: #E6DB74">'unexpected-react'</span><span style="color: #999">);</span></div>
  <div>&nbsp;</div>
  <div><span style="color: #888">//&nbsp;then&nbsp;react</span></div>
  <div><span style="color: #F92672">var</span>&nbsp;React&nbsp;<span style="color: #F92672">=</span>&nbsp;require<span style="color: #999">(</span><span style="color: #E6DB74">'react/addons'</span><span style="color: #999">);</span></div>
  <div>&nbsp;</div>
  <div><span style="color: #888">//&nbsp;define&nbsp;our&nbsp;instance&nbsp;of&nbsp;the&nbsp;`expect`&nbsp;function&nbsp;to&nbsp;use</span></div>
  <div>const&nbsp;expect&nbsp;<span style="color: #F92672">=</span>&nbsp;unexpected<span style="color: #999">.</span>clone<span style="color: #999">()</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #999">.</span>use<span style="color: #999">(</span>unexpectedReact<span style="color: #999">);</span></div>
  <div>&nbsp;</div>
</div><p>The <code>emulateDom</code> file depends on whether you want to use <a href="https://npmjs.com/package/domino"><code>domino</code></a>, or <a href="https://npmjs.com/package/jsdom"><code>jsdom</code></a></p>
<p>For <code>jsdom</code>:</p>
<div class="code lang-javascript">
  <div><span style="color: #888">//&nbsp;emulateDom.js&nbsp;-&nbsp;jsdom&nbsp;variant</span></div>
  <div>&nbsp;</div>
  <div><span style="color: #F92672">if</span>&nbsp;<span style="color: #999">(</span><span style="color: #F92672">typeof</span>&nbsp;document&nbsp;<span style="color: #F92672">===</span>&nbsp;<span style="color: #E6DB74">'undefined'</span><span style="color: #999">)</span>&nbsp;<span style="color: #999">{</span></div>
  <div>&nbsp;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;jsdom&nbsp;<span style="color: #F92672">=</span>&nbsp;require<span style="color: #999">(</span><span style="color: #E6DB74">'jsdom'</span><span style="color: #999">).</span>jsdom<span style="color: #999">;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;global<span style="color: #999">.</span>document&nbsp;<span style="color: #F92672">=</span>&nbsp;jsdom<span style="color: #999">(</span><span style="color: #E6DB74">''</span><span style="color: #999">);</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;global<span style="color: #999">.</span>window&nbsp;<span style="color: #F92672">=</span>&nbsp;global<span style="color: #999">.</span>document<span style="color: #999">.</span>defaultView<span style="color: #999">;</span></div>
  <div>&nbsp;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">for</span>&nbsp;<span style="color: #999">(</span><span style="color: #F92672">let</span>&nbsp;key&nbsp;<span style="color: #F92672">in</span>&nbsp;global<span style="color: #999">.</span>window<span style="color: #999">)</span>&nbsp;<span style="color: #999">{</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">if</span>&nbsp;<span style="color: #999">(</span><span style="color: #F92672">!</span>global<span style="color: #999">[</span>key<span style="color: #999">])</span>&nbsp;<span style="color: #999">{</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global<span style="color: #999">[</span>key<span style="color: #999">]</span>&nbsp;<span style="color: #F92672">=</span>&nbsp;global<span style="color: #999">.</span>window<span style="color: #999">[</span>key<span style="color: #999">];</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #999">}</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #999">}</span></div>
  <div><span style="color: #999">}</span></div>
</div><p>For <code>domino</code>:</p>
<div class="code lang-javascript">
  <div><span style="color: #888">//&nbsp;emulateDom.js&nbsp;-&nbsp;domino&nbsp;variant</span></div>
  <div>&nbsp;</div>
  <div><span style="color: #F92672">if</span>&nbsp;<span style="color: #999">(</span><span style="color: #F92672">typeof</span>&nbsp;document&nbsp;<span style="color: #F92672">===</span>&nbsp;<span style="color: #E6DB74">'undefined'</span><span style="color: #999">)</span>&nbsp;<span style="color: #999">{</span></div>
  <div>&nbsp;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;domino&nbsp;<span style="color: #F92672">=</span>&nbsp;require<span style="color: #999">(</span><span style="color: #E6DB74">'domino'</span><span style="color: #999">);</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;global<span style="color: #999">.</span>window&nbsp;<span style="color: #F92672">=</span>&nbsp;domino<span style="color: #999">.</span>createWindow<span style="color: #999">(</span><span style="color: #E6DB74">''</span><span style="color: #999">);</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;global<span style="color: #999">.</span>document&nbsp;<span style="color: #F92672">=</span>&nbsp;global<span style="color: #999">.</span>window<span style="color: #999">.</span>document<span style="color: #999">;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;global<span style="color: #999">.</span>navigator&nbsp;<span style="color: #F92672">=</span>&nbsp;<span style="color: #999">{</span>&nbsp;userAgent<span style="color: #999">:</span>&nbsp;<span style="color: #E6DB74">'domino'</span>&nbsp;<span style="color: #999">};</span></div>
  <div>&nbsp;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">for</span>&nbsp;<span style="color: #999">(</span><span style="color: #F92672">let</span>&nbsp;key&nbsp;<span style="color: #F92672">in</span>&nbsp;global<span style="color: #999">.</span>window<span style="color: #999">)</span>&nbsp;<span style="color: #999">{</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">if</span>&nbsp;<span style="color: #999">(</span><span style="color: #F92672">!</span>global<span style="color: #999">[</span>key<span style="color: #999">])</span>&nbsp;<span style="color: #999">{</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global<span style="color: #999">[</span>key<span style="color: #999">]</span>&nbsp;<span style="color: #F92672">=</span>&nbsp;global<span style="color: #999">.</span>window<span style="color: #999">[</span>key<span style="color: #999">];</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #999">}</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #999">}</span></div>
  <div><span style="color: #999">}</span></div>
</div><p>From that point on, you can <code>require</code> the components you want to test, and write your tests.</p>
<h1 id="tests">Tests</h1>
<p>For the shallow renderer, you can assert on the renderer itself (you can also write the same assertion for the result of <code>getRenderOutput()</code>)</p>
<div class="code lang-javascript">
  <div>&nbsp;</div>
  <div>it<span style="color: #999">(</span><span style="color: #E6DB74">'renders&nbsp;with&nbsp;content'</span><span style="color: #999">,</span>&nbsp;<span style="color: #F92672">function</span>&nbsp;<span style="color: #999">()</span>&nbsp;<span style="color: #999">{</span></div>
  <div>&nbsp;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">var</span>&nbsp;renderer&nbsp;<span style="color: #F92672">=</span>&nbsp;TestUtils<span style="color: #999">.</span>createRenderer<span style="color: #999">();</span></div>
  <div>&nbsp;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;renderer<span style="color: #999">.</span>render<span style="color: #999">(</span><span style="color: #F92672">&lt;</span>SomeComponent&nbsp;id<span style="color: #F92672">=</span><span style="color: #999">{</span><span style="color: #66D9EF; font-weight: bold">125</span><span style="color: #999">}</span>&nbsp;<span style="color: #F92672">/&gt;</span><span style="color: #999">);</span></div>
  <div>&nbsp;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">return</span>&nbsp;expect<span style="color: #999">(</span>renderer<span style="color: #999">,</span>&nbsp;<span style="color: #E6DB74">'to&nbsp;have&nbsp;rendered'</span><span style="color: #999">,</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;</span>div&nbsp;id<span style="color: #F92672">=</span><span style="color: #999">{</span><span style="color: #66D9EF; font-weight: bold">125</span><span style="color: #999">}</span><span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some&nbsp;simple&nbsp;content</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;/</span>div<span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #999">);</span></div>
  <div><span style="color: #999">});</span></div>
</div><p>If this fails for some reason, you get a nicely formatted error, with the differences highlighted:</p>
<p><img src="https://raw.githubusercontent.com/bruderstein/unexpected-react/887855b3fe1cbdb166f9c45b62635f103fa638d1/demo/1.png" alt="shallow_simple"></p>
<p>If you&#39;ve emulated the DOM, you can write a similar test, but using <code>ReactDOM.render()</code> (or <code>TestUtils.renderIntoDocument()</code>)</p>
<div class="code lang-javascript">
  <div>it<span style="color: #999">(</span><span style="color: #E6DB74">'renders&nbsp;with&nbsp;content'</span><span style="color: #999">,</span>&nbsp;<span style="color: #F92672">function</span>&nbsp;<span style="color: #999">()</span>&nbsp;<span style="color: #999">{</span></div>
  <div>&nbsp;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">var</span>&nbsp;component&nbsp;<span style="color: #F92672">=</span>&nbsp;TestUtils<span style="color: #999">.</span>renderIntoDocument<span style="color: #999">(</span><span style="color: #F92672">&lt;</span>SomeComponent&nbsp;id<span style="color: #F92672">=</span><span style="color: #999">{</span><span style="color: #66D9EF; font-weight: bold">125</span><span style="color: #999">}</span>&nbsp;<span style="color: #F92672">/&gt;</span><span style="color: #999">);</span></div>
  <div>&nbsp;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">return</span>&nbsp;expect<span style="color: #999">(</span>component<span style="color: #999">,</span>&nbsp;<span style="color: #E6DB74">'to&nbsp;have&nbsp;rendered'</span><span style="color: #999">,</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;</span>div&nbsp;id<span style="color: #F92672">=</span><span style="color: #999">{</span><span style="color: #66D9EF; font-weight: bold">125</span><span style="color: #999">}</span><span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some&nbsp;simple&nbsp;content</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;/</span>div<span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #999">);</span></div>
  <div><span style="color: #999">});</span></div>
</div><p><img src="https://raw.githubusercontent.com/bruderstein/unexpected-react/887855b3fe1cbdb166f9c45b62635f103fa638d1/demo/2.png" alt="deeprender_simple"></p>
<p>Note the major difference between the shallow renderer and the &quot;normal&quot; renderer, is that child components are also
rendered.  That is easier to see with these example components:</p>
<div class="code lang-javascript">
  <div>&nbsp;</div>
  <div><span style="color: #F92672">var</span>&nbsp;Text&nbsp;<span style="color: #F92672">=</span>&nbsp;React<span style="color: #999">.</span>createClass<span style="color: #999">({</span></div>
  <div>&nbsp;&nbsp;&nbsp;render<span style="color: #999">()</span>&nbsp;<span style="color: #999">{</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">return</span>&nbsp;<span style="color: #F92672">&lt;</span>span<span style="color: #F92672">&gt;</span><span style="color: #999">{</span><span style="color: #F92672">this</span><span style="color: #999">.</span>props<span style="color: #999">.</span>content<span style="color: #999">}</span><span style="color: #F92672">&lt;/</span>span<span style="color: #F92672">&gt;</span><span style="color: #999">;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span style="color: #999">}</span></div>
  <div><span style="color: #999">});</span></div>
  <div>&nbsp;</div>
  <div><span style="color: #F92672">var</span>&nbsp;App&nbsp;<span style="color: #F92672">=</span>&nbsp;React<span style="color: #999">.</span>createClass<span style="color: #999">({</span></div>
  <div>&nbsp;&nbsp;&nbsp;render<span style="color: #999">()</span>&nbsp;<span style="color: #999">{</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">return</span>&nbsp;<span style="color: #999">(</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;</span>div&nbsp;className<span style="color: #F92672">=</span><span style="color: #E6DB74">&quot;testing-is-fun&quot;</span><span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;</span>Text&nbsp;content<span style="color: #F92672">=</span><span style="color: #E6DB74">&quot;hello&quot;</span>&nbsp;<span style="color: #F92672">/&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;</span>Text&nbsp;content<span style="color: #F92672">=</span><span style="color: #E6DB74">&quot;world&quot;</span>&nbsp;<span style="color: #F92672">/&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;/</span>div<span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #999">);</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span style="color: #999">}</span></div>
  <div><span style="color: #999">});</span></div>
  <div>&nbsp;</div>
</div><p>Rendering the <code>App</code> component with the shallow renderer will not render the <code>span</code>s, only the 
<code>Text</code> component with the props.  If you wanted to test for the content of the span elements, you&#39;d 
need to use <code>TestUtils.renderIntoDocument(...)</code>, or <code>ReactDOM.render(...)</code></p>
<p>Because unexpected-react` by default ignores wrapper elements, and also &quot;extra&quot; children (child
nodes that appear in the actual render, but are not in the expected result), it is possible to 
test both scenarios with the full renderer. To demonstrate, all the following tests will pass:</p>
<div class="code lang-javascript">
  <div>&nbsp;</div>
  <div>it<span style="color: #999">(</span><span style="color: #E6DB74">'renders&nbsp;the&nbsp;Text&nbsp;components&nbsp;with&nbsp;the&nbsp;spans&nbsp;with&nbsp;the&nbsp;full&nbsp;renderer'</span><span style="color: #999">,</span>&nbsp;<span style="color: #F92672">function</span>&nbsp;<span style="color: #999">()</span>&nbsp;<span style="color: #999">{</span></div>
  <div>&nbsp;</div>
  <div>&nbsp;&nbsp;&nbsp;<span style="color: #F92672">var</span>&nbsp;component&nbsp;<span style="color: #F92672">=</span>&nbsp;TestUtils<span style="color: #999">.</span>renderIntoDocument<span style="color: #999">(</span><span style="color: #F92672">&lt;</span>App&nbsp;<span style="color: #F92672">/&gt;</span><span style="color: #999">);</span></div>
  <div>&nbsp;</div>
  <div>&nbsp;&nbsp;&nbsp;expect<span style="color: #999">(</span>component<span style="color: #999">,</span>&nbsp;<span style="color: #E6DB74">'to&nbsp;have&nbsp;rendered'</span><span style="color: #999">,</span>&nbsp;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;</span>App<span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;</span>div&nbsp;className<span style="color: #F92672">=</span><span style="color: #E6DB74">&quot;testing-is-fun&quot;</span><span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;</span>Text&nbsp;content<span style="color: #F92672">=</span><span style="color: #E6DB74">&quot;hello&quot;</span><span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;</span>span<span style="color: #F92672">&gt;</span>hello<span style="color: #F92672">&lt;/</span>span<span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;/</span>Text<span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;</span>Text&nbsp;content<span style="color: #F92672">=</span><span style="color: #E6DB74">&quot;world&quot;</span><span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;</span>span<span style="color: #F92672">&gt;</span>world<span style="color: #F92672">&lt;/</span>span<span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;/</span>Text<span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;/</span>div<span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;/</span>App<span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span style="color: #999">);</span></div>
  <div><span style="color: #999">});</span></div>
  <div>&nbsp;</div>
  <div>it<span style="color: #999">(</span><span style="color: #E6DB74">'renders&nbsp;the&nbsp;Text&nbsp;nodes&nbsp;with&nbsp;the&nbsp;full&nbsp;renderer'</span><span style="color: #999">,</span>&nbsp;<span style="color: #F92672">function</span>&nbsp;<span style="color: #999">()</span>&nbsp;<span style="color: #999">{</span></div>
  <div>&nbsp;</div>
  <div>&nbsp;&nbsp;&nbsp;<span style="color: #F92672">var</span>&nbsp;component&nbsp;<span style="color: #F92672">=</span>&nbsp;TestUtils<span style="color: #999">.</span>renderIntoDocument<span style="color: #999">(</span><span style="color: #F92672">&lt;</span>App&nbsp;<span style="color: #F92672">/&gt;</span><span style="color: #999">);</span></div>
  <div>&nbsp;</div>
  <div>&nbsp;&nbsp;&nbsp;expect<span style="color: #999">(</span>component<span style="color: #999">,</span>&nbsp;<span style="color: #E6DB74">'to&nbsp;have&nbsp;rendered'</span><span style="color: #999">,</span>&nbsp;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;</span>div&nbsp;className<span style="color: #F92672">=</span><span style="color: #E6DB74">&quot;testing-is-fun&quot;</span><span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;</span>Text&nbsp;content<span style="color: #F92672">=</span><span style="color: #E6DB74">&quot;hello&quot;</span>&nbsp;<span style="color: #F92672">/&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;</span>Text&nbsp;content<span style="color: #F92672">=</span><span style="color: #E6DB74">&quot;world&quot;</span>&nbsp;<span style="color: #F92672">/&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;/</span>div<span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span style="color: #999">);</span></div>
  <div><span style="color: #999">});</span></div>
  <div>&nbsp;</div>
  <div>it<span style="color: #999">(</span><span style="color: #E6DB74">'renders&nbsp;the&nbsp;spans&nbsp;with&nbsp;the&nbsp;full&nbsp;renderer'</span><span style="color: #999">,</span>&nbsp;<span style="color: #F92672">function</span>&nbsp;<span style="color: #999">()</span>&nbsp;<span style="color: #999">{</span></div>
  <div>&nbsp;</div>
  <div>&nbsp;&nbsp;&nbsp;<span style="color: #F92672">var</span>&nbsp;component&nbsp;<span style="color: #F92672">=</span>&nbsp;TestUtils<span style="color: #999">.</span>renderIntoDocument<span style="color: #999">(</span><span style="color: #F92672">&lt;</span>App&nbsp;<span style="color: #F92672">/&gt;</span><span style="color: #999">);</span></div>
  <div>&nbsp;</div>
  <div>&nbsp;&nbsp;&nbsp;expect<span style="color: #999">(</span>component<span style="color: #999">,</span>&nbsp;<span style="color: #E6DB74">'to&nbsp;have&nbsp;rendered'</span><span style="color: #999">,</span>&nbsp;</div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;</span>div&nbsp;className<span style="color: #F92672">=</span><span style="color: #E6DB74">&quot;testing-is-fun&quot;</span><span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;</span>span<span style="color: #F92672">&gt;</span>hello<span style="color: #F92672">&lt;/</span>span<span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;</span>span<span style="color: #F92672">&gt;</span>world<span style="color: #F92672">&lt;/</span>span<span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #F92672">&lt;/</span>div<span style="color: #F92672">&gt;</span></div>
  <div>&nbsp;&nbsp;&nbsp;<span style="color: #999">);</span></div>
  <div><span style="color: #999">});</span></div>
  <div>&nbsp;</div>
</div><p>The first test shows the full virtual DOM that gets rendered. The second test skips the <code>&lt;App&gt;</code> &quot;wrapper&quot; 
component, and leaves out the <code>&lt;span&gt;</code> children of the <code>&lt;Text&gt;</code> components. The third tests skips both 
the <code>&lt;App&gt;</code> wrapper component, and the <code>&lt;Text&gt;</code> wrapper component.</p>
<h2 id="cleaning-up">Cleaning up</h2>
<p>When using the normal renderer, unexpected-react makes use of <a href="https://npmjs.org/package/react-render-hook"><code>react-render-hook</code></a>,
which utilises the code from the <a href="https://github.com/facebook/react-devtools">React devtools</a>. As there is no way for <code>react-render-hook</code> 
to know when a test is completed, it has to keep a reference to every rendered component. Whilst this shouldn&#39;t normally be an issue,
if you use a test runner that keeps the process alive (such as <a href="http://wallabyjs.com">wallaby.js</a>), it is a good idea to call
<code>unexpectedReact.clearAll()</code> in a global <code>beforeEach()</code> or <code>afterEach()</code> block. This clears the cache of rendered nodes.</p>
<h2 id="roadmap-plans">Roadmap / Plans</h2>
<ul>
<li>[DONE] <del>There are some performance optimisations to do. The performance suffers a bit due to the possible asynchronous nature of the inline assertions. Most of the time these will be synchronous, and hence we don&#39;t need to pay the price.</del></li>
<li>[DONE] <del><code>queried for</code> implementation</del></li>
<li>[DONE] <del>Directly calling events on both the shallow renderer, and the full virtual DOM renderer</del></li>
<li>Cleanup output - where there are no differences to highlight, we could skip the branch</li>
</ul>
<h1 id="contributing">Contributing</h1>
<p>We welcome pull requests, bug reports, and extra test cases. If you find something that doesn&#39;t work
as you believe it should, or where the output isn&#39;t as good as it could be, raise an issue!</p>
<h2 id="thanks">Thanks</h2>
<p>Huge thanks to <a href="https://github.com/munter">@Munter</a> for <a href="https://github.com/munter/unexpected-dom">unexpected-dom</a>,
and along with <a href="https://github.com/dmatteo">@dmatteo</a> from Podio for handing over the unexpected-react name. </p>
<p><a href="http://unexpected.js.org">Unexpected</a> is a great library to work with, and I offer my sincere thanks to <a href="https://github.com/sunesimonsen">@sunesimonsen</a>
and <a href="https://github.com/papandreou">@papandreou</a>, who have created an assertion library that makes testing JavaScript a joy.</p>
<h2 id="license">License</h2>
<p>MIT</p>

    </div>
    <a class="github-ribbon" href="https://github.com/bruderstein/unexpected-react"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a>
</div>
<script type="text/javascript">
    baseUrl = '';
</script>
<script type="text/javascript" src="static/toggleSidebar.js"></script>
<script type="text/javascript" src="static/rememberScrollPosition.js"></script>
<script type="text/javascript" src="static/focusMain.js"></script>
<script type="text/javascript" src="static/search.js"></script>
</body>
</html>

